#!/usr/bin/env ruby

require 'erb'

netrc_template = File.read "#{File.join(File.dirname(__FILE__), '..', 'support', 'netrc')}"
# This variable name is used in the ../support/netrc template
github_token   = ENV['GITHUB_BASIC_TOKEN']

File.open "#{ENV['HOME']}/.netrc", "w+", 0600 do |f|
  f.puts ERB.new(netrc_template).result
end

File.open "#{ENV['HOME']}/.curlrc", "w+", 0600 do |f|
  f.puts "--netrc-optional"
end

puts "-----> Generated .netrc & .curlrc files in user's home dir"
